{% extends 'base.html' %}
{% load static %}

{% block title %}Experience | MyApply{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">My Experience</h1>
    <a href="{% url 'experience:add' %}" class="btn btn-primary">
        <svg class="icon-plus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
        Add Experience
    </a>
</div>

{% if experiences %}
    <div class="experience-list">
        {% for exp in experiences %}
        <div class="experience-card type-{{ exp.type }}">
            <div class="experience-header">
                <div class="experience-main">
                    <span class="experience-type type-{{ exp.type }}">{{ exp.type }}</span>
                    <h2 class="experience-title">{{ exp.title }}</h2>
                    <div class="experience-organization">{{ exp.organization }}</div>
                    <div class="experience-meta">
                        <span class="experience-date {% if exp.current %}current{% endif %}">
                            <svg class="icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            {% if exp.start_date %}
                                {{ exp.start_date }}
                            {% endif %}
                            {% if exp.current %}
                                - Present
                            {% elif exp.end_date %}
                                - {{ exp.end_date }}
                            {% endif %}
                        </span>
                        {% if exp.location %}
                        <span class="experience-location">
                            <svg class="icon-location" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            {{ exp.location }}
                        </span>
                        {% endif %}
                    </div>
                </div>
            </div>

            {% if exp.description %}
            <div class="experience-description">
                {{ exp.description }}
            </div>
            {% endif %}

            {% if exp.achievements %}
            <div class="experience-achievements">
                <div class="experience-achievements-title">Key Achievements</div>
                <ul>
                    {% for achievement in exp.achievements %}
                    <li>{{ achievement }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            {% if exp.skills %}
            <div class="experience-skills">
                {% for skill in exp.skills %}
                <span class="skill-tag">{{ skill }}</span>
                {% endfor %}
            </div>
            {% endif %}

            <div class="experience-actions">
                <a href="{% url 'experience:edit' exp.id %}" class="btn-edit">
                    <svg class="icon-edit" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                    Edit
                </a>
                <form method="post" action="{% url 'experience:delete' exp.id %}" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this experience?');">
                    {% csrf_token %}
                    <button type="submit" class="btn-delete">
                        <svg class="icon-delete" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            <line x1="10" y1="11" x2="10" y2="17"></line>
                            <line x1="14" y1="11" x2="14" y2="17"></line>
                        </svg>
                        Delete
                    </button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="empty-state">
        <svg class="empty-state-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M9 11H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-2"></path>
            <path d="M9 7h6"></path>
            <path d="M9 11V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v7"></path>
        </svg>
        <div class="empty-state-text">No experiences added yet</div>
        <p class="empty-state-description">Start building your professional profile by adding your work experience, education, and projects.</p>
        <a href="{% url 'experience:add' %}" class="btn btn-primary">
            <svg class="icon-plus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Add Your First Experience
        </a>
    </div>
{% endif %}
{% endblock %}
